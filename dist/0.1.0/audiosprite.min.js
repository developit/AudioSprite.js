/*! audiosprite 16-03-2013 */
function AudioSprite(i,o,t){var e;if(this.audio=document.createElement("audio")||window.Audio&&new window.Audio,this.regions={},o)for(e in o)o.hasOwnProperty(e)&&this.defineRegion(e,o[e]);this.load(i,t)}AudioSprite.prototype={construtor:AudioSprite,loading:!1,loaded:!1,regions:{},load:function(i,o){var t=this,e={mp3:"audio/mpeg",wav:"audio/wav",ogg:"audio/ogg",oga:"audio/ogg"},a=(i.match(/[^.]$/gi)||[""])[0].toLowerCase();this.url=i,this.loading=!0,this.loaded=!1,this.audio.type=e[a]||e.mp3,this.audio.onload=function(){t.loading=!1,t.loaded=!0,o&&o(t),t=e=o=null},this.audio.src=i},defineRegion:function(i,o,t){"object"==typeof o&&(o.splice?(t=o[1],o=o[0]):(t="number"==typeof o.end?o.end-o.start:o.duration||o.dur||o.length,o=o.start||0)),this.regions[i.toLowerCase()]={name:i,start:o,duration:t,end:o+t}},play:function(i,o){var t,e=this,a=this.regions[i.toLowerCase()];this.audio.currentTime=a.start,this.audio.play(),t=setInterval(function(){var i=e.audio.currentTime;i>=a.end&&(clearInterval(t),e.audio.pause(),o&&o(e),e=a=t=o=null)},1)}};